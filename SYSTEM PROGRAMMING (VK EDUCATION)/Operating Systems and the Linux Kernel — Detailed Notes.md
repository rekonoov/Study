üß† –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –∏ —è–¥—Ä–æ Linux
====================================

_(Operating Systems and the Linux Kernel ‚Äî Detailed Notes)_

* * *

üá∑üá∫ –†—É—Å—Å–∫–∞—è –≤–µ—Ä—Å–∏—è (–ø–æ–¥—Ä–æ–±–Ω–æ)
------------------------------

* * *

### 1Ô∏è‚É£ –ß—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è —Ç–µ—Ä–º–∏–Ω ¬´–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞¬ª

**–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (–û–°)** ‚Äî —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å –ø—Ä–æ–≥—Ä–∞–º–º, —É–ø—Ä–∞–≤–ª—è—é—â–∏—Ö –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–∏–º–∏.  
–û–Ω–∞ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–º —Å–ª–æ–µ–º –º–µ–∂–¥—É **–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º/–ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏** –∏ **–∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–º –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ–º**.

#### üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ –û–°:

1. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.

2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é** ‚Äî –≤—ã–¥–µ–ª–µ–Ω–∏–µ, –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ, –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ.

3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏** ‚Äî –¥—Ä–∞–π–≤–µ—Ä—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫ –∞–ø–ø–∞—Ä–∞—Ç—É—Ä–µ (–¥–∏—Å–∫–∏, –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞, —Å–µ—Ç—å, –≤–∏–¥–µ–æ –∏ —Ç.–¥.).

4. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏** ‚Äî –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –¥–æ—Å—Ç—É–ø –∫ –Ω–∏–º.

5. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞** ‚Äî —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∞–≤, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è.

6. **–û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤** ‚Äî API –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (—Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã), –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (CLI, GUI).

7. **–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏** ‚Äî –æ–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è, –æ—á–µ—Ä–µ–¥–∏, –∫–∞–Ω–∞–ª—ã.

#### üí¨ –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:

> –û–° = —è–¥—Ä–æ + —Å–∏—Å—Ç–µ–º–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ + —É—Ç–∏–ª–∏—Ç—ã + –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

* * *

### 2Ô∏è‚É£ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —è–¥—Ä–∞ Linux

–Ø–¥—Ä–æ Linux ‚Äî —ç—Ç–æ **–º–æ–Ω–æ–ª–∏—Ç–Ω–æ–µ —è–¥—Ä–æ**, —Å–æ–¥–µ—Ä–∂–∞—â–µ–µ –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã. –û–Ω–æ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —Å —Å–∏—Å—Ç–µ–º–æ–π.

* * *

#### üß© 1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ (Process Management)

* –ü—Ä–æ—Ü–µ—Å—Å ‚Äî —ç—Ç–æ –∏—Å–ø–æ–ª–Ω—è–µ–º–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å–æ —Å–≤–æ–∏–º –∞–¥—Ä–µ—Å–Ω—ã–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–º, —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.

* –Ø–¥—Ä–æ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ–º (`fork`, `clone`), –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º (`exit`), –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π, –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.

* –ö–∞–∂–¥—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∏–º–µ–µ—Ç **PID**, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, —Å–æ—Å—Ç–æ—è–Ω–∏–µ (RUNNING, SLEEPING, ZOMBIE –∏ –¥—Ä.).

* –°—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ ‚Äî –∫–∞–∂–¥—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∏–º–µ–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è.

* Linux –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–ø–æ—Ç–æ–∫–∏ (threads)** —á–µ—Ä–µ–∑ `clone()` ‚Äî —É –Ω–∏—Ö –æ–±—â–µ–µ –∞–¥—Ä–µ—Å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ, –Ω–æ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

üìò **–û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**

* `task_struct` ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –æ–ø–∏—Å—ã–≤–∞—é—â–∞—è –ø—Ä–æ—Ü–µ—Å—Å.

* –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ (scheduler) —Ä–µ—à–∞–µ—Ç, –∫–∞–∫–æ–π –ø—Ä–æ—Ü–µ—Å—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∞–ª—å—à–µ.

* * *

#### ‚öôÔ∏è 2. –†–∞–±–æ—Ç–∞ —Å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º (Device Management)

* –í—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –≤–∏–¥–µ **—Ñ–∞–π–ª–æ–≤** –≤ `/dev`.

* –Ø–¥—Ä–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –Ω–∏–º–∏ —á–µ—Ä–µ–∑ **–¥—Ä–∞–π–≤–µ—Ä—ã**.

* –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Ç–∏–ø—ã:
  
  * **–ë–ª–æ—á–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** (–¥–∏—Å–∫–∏, SSD) ‚Äî —Ä–∞–±–æ—Ç–∞—é—Ç —Å –±–ª–æ–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.
  
  * **–°–∏–º–≤–æ–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** (—Ç–µ—Ä–º–∏–Ω–∞–ª—ã, –º—ã—à—å) ‚Äî –ø–µ—Ä–µ–¥–∞—é—Ç –ø–æ—Ç–æ–∫ –±–∞–π—Ç–æ–≤.
  
  * **–°–µ—Ç–µ–≤—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** ‚Äî —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ–π –ø–æ–¥—Å–∏—Å—Ç–µ–º–æ–π (netdev).

üìò **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥—Ä–∞–π–≤–µ—Ä–æ–≤:**

* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ (–º–æ–¥—É–ª–∏ `.ko`).

* –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ API —á–µ—Ä–µ–∑ `struct file_operations`, `struct device_driver`.

* * *

#### ‚è±Ô∏è 3. –†–∞–±–æ—Ç–∞ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º (Time Management)

* –Ø–¥—Ä–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è —Å –ø–æ–º–æ—â—å—é **—Å—á—ë—Ç—á–∏–∫–æ–≤ —Ç–∏–∫–æ–≤** –∏ **—Ç–∞–π–º–µ—Ä–æ–≤**.

* –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
  
  * —É—á—ë—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤;
  
  * –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π (—Ç–∞–π–º–µ—Ä—ã, sleep);
  
  * –ø–æ–¥—Å—á—ë—Ç –∞–ø—Ç–∞–π–º–∞, —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫;
  
  * —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (NTP).

üìò **–û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**

* `jiffies` ‚Äî —Å—á—ë—Ç—á–∏–∫ —Ç–∏–∫–æ–≤ (–µ–¥–∏–Ω–∏—Ü—ã –≤—Ä–µ–º–µ–Ω–∏ —è–¥—Ä–∞).

* `ktime_t` ‚Äî –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤ –Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥–∞—Ö.

* * *

#### üìÇ 4. –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (Filesystem Management)

* –ï–¥–∏–Ω–æ–µ –¥—Ä–µ–≤–æ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ (`/` –∫–∞–∫ –∫–æ—Ä–µ–Ω—å).

* –í—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ —Ä–∞–∑–¥–µ–ª—ã –º–æ–Ω—Ç–∏—Ä—É—é—Ç—Å—è –≤ —ç—Ç—É –∏–µ—Ä–∞—Ä—Ö–∏—é.

* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ñ–∞–π–ª–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º: `ext4`, `XFS`, `Btrfs`, `FAT`, `NTFS`, `procfs`, `sysfs` –∏ –¥—Ä.

üìò **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**

* –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π —Å–ª–æ–π **VFS (Virtual Filesystem Switch)** ‚Äî –µ–¥–∏–Ω—ã–π API –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –§–°.

* –ö–∞–∂–¥–∞—è –§–° —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—É `super_operations`, `inode_operations`, `file_operations`.

* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è** (`page cache`) –∏ **–±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏** –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

* * *

#### üîÅ 5. IPC ‚Äî –ú–µ–∂–ø—Ä–æ—Ü–µ—Å—Å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ (Inter-Process Communication)

–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞–º –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è –¥–∞–Ω–Ω—ã–º–∏ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è.

üìò **–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –≤ Linux:**

* **Pipes (–∫–∞–Ω–∞–ª—ã)** ‚Äî –ø–æ—Ç–æ–∫ –±–∞–π—Ç–æ–≤ –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏.

* **Message queues (–æ—á–µ—Ä–µ–¥–∏ —Å–æ–æ–±—â–µ–Ω–∏–π)** ‚Äî –æ–±–º–µ–Ω —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏.

* **Shared memory (–æ–±—â–∞—è –ø–∞–º—è—Ç—å)** ‚Äî –æ–±—â–∏–µ —É—á–∞—Å—Ç–∫–∏ RAM –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ–±–º–µ–Ω–∞.

* **Semaphores / Mutexes / Spinlocks** ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞.

* **Signals** ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞–º –æ —Å–æ–±—ã—Ç–∏—è—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `SIGKILL`, `SIGINT`).

* **Sockets** ‚Äî –¥–ª—è —Å–µ—Ç–µ–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (–ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∏–ª–∏ —á–µ—Ä–µ–∑ TCP/IP).

* * *

#### üåê 6. –°–µ—Ç–µ–≤–∞—è –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞ (Networking)

* –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–≥—Ä–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ (TCP/IP, UDP, ARP, ICMP, IPv6, Unix sockets –∏ –¥—Ä.).

* –ò–º–µ–µ—Ç –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É: —Å–µ—Ç–µ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã ‚Üí –ø—Ä–æ—Ç–æ–∫–æ–ª—å–Ω—ã–µ —Å—Ç–µ–∫–∏ ‚Üí —Å–æ–∫–µ—Ç—ã.

* –°–µ—Ç–µ–≤–∞—è –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω–∞ —Å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º –∏ —Ñ–∞–π–ª–æ–≤—ã–º–∏ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞–º–∏ (–≤—Å—ë ‚Äî ¬´—Ñ–∞–π–ª¬ª).

üìò **–°—Ç—Ä—É–∫—Ç—É—Ä—ã:**

* `struct net_device` ‚Äî —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

* `struct sk_buff` ‚Äî –±—É—Ñ–µ—Ä —Å–µ—Ç–µ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤.

* * *

#### üë• 7. –ü–æ–¥—Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

* Linux ‚Äî –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞.

* –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç **UID**, **GID** –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (rwx).

* –ï—Å—Ç—å **—Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (root)** —Å UID 0.

* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥–µ–ª—å **Discretionary Access Control (DAC)** –∏ –º–µ—Ö–∞–Ω–∏–∑–º—ã **Mandatory Access Control (MAC)** —á–µ—Ä–µ–∑ SELinux/AppArmor.

* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **capabilities** ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã—Ö –ø—Ä–∞–≤ root –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.

* * *

#### üßÆ 8. –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

–í —è–¥—Ä–µ –ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ —ç–∫–æ–Ω–æ–º–∏–∏ –ø–∞–º—è—Ç–∏:

| –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                   | –°—Ç—Ä—É–∫—Ç—É—Ä–∞      | –ê–Ω–∞–ª–æ–≥ –≤ C           |
| ---------------------------- | -------------- | -------------------- |
| –û—á–µ—Ä–µ–¥–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤            | `list_head`    | –¥–≤—É—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫    |
| –¢–∞–±–ª–∏—Ü—ã –∏ –∫—ç—à–∏               | `hash_table`   | —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞          |
| –î–µ—Ä–µ–≤—å—è –ø–∞–º—è—Ç–∏, –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ | `rb_tree`      | –∫—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ |
| –û—á–µ—Ä–µ–¥–∏ —Å–æ–±—ã—Ç–∏–π              | `wait_queue`   | –æ—á–µ—Ä–µ–¥—å –æ–∂–∏–¥–∞–Ω–∏—è     |
| –ë—É—Ñ–µ—Ä—ã —Ñ–∞–π–ª–æ–≤                | `page` / `bio` | –±—É—Ñ–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã/–±–ª–æ–∫–∞ |

* * *

### 3Ô∏è‚É£ –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω

**–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ (Scheduler)** ‚Äî —ç—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —è–¥—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ—à–∞–µ—Ç, **–∫–∞–∫–æ–π –ø—Ä–æ—Ü–µ—Å—Å –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–∏–º** –∏ **–∫–∞–∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ–µ –≤—Ä–µ–º—è** –º–µ–∂–¥—É –≤—Å–µ–º–∏ –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏.

#### üìå –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–ª–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞:

* –û–±–µ—Å–ø–µ—á–∏—Ç—å **—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å** (–∫–∞–∂–¥—ã–π –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–ª—É—á–∞–µ—Ç —Å–≤–æ—ë –≤—Ä–µ–º—è).

* –ú–∞–∫—Å–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å **–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** (—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU).

* –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å **–∑–∞–¥–µ—Ä–∂–∫–∏** –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á.

* –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å **—Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è (RT)** –¥–ª—è –∑–∞–¥–∞—á —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏.

#### üß† –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã:

1. –ö–∞–∂–¥—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∏–º–µ–µ—Ç **–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** (nice, real-time priority).

2. –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –≤—ã–±–∏—Ä–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –∏–ª–∏ –Ω–∞–∏–º–µ–Ω—å—à–µ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π.

3. –í Linux –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Completely Fair Scheduler (CFS)** ‚Äî "–ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤—ã–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫".
   
   * –û–Ω –º–æ–¥–µ–ª–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –∫–∞–∫ —Ç–æ—á–∫—É –Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ª–∏–Ω–∏–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (virtual runtime).
   
   * –ö–∞–∂–¥—ã–π –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–ª—É—á–∞–µ—Ç –¥–æ–ª—é CPU, –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Å–≤–æ–µ–º—É –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É.

üìò **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

* –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `struct sched_entity` –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–¥–∞—á–∏.

* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–∫—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ** (`rb_tree`) –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏ –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–±–æ—Ä–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ.

* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–≤:
  
  * `SCHED_NORMAL` (–æ–±—ã—á–Ω—ã–µ –∑–∞–¥–∞—á–∏),
  
  * `SCHED_FIFO`, `SCHED_RR` (—Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏),
  
  * `SCHED_IDLE`, `SCHED_BATCH`.

#### üïπÔ∏è –ü—Ä–∏–º–µ—Ä:

> –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–ª—É—à–∞–µ—Ç –º—É–∑—ã–∫—É, –∞ –≤ —Ñ–æ–Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–∞, –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –º—É–∑—ã–∫–∞ –Ω–µ –±—É–¥–µ—Ç "–ª–∞–≥–∞—Ç—å", –¥–∞–∂–µ –µ—Å–ª–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏—è –Ω–∞–≥—Ä—É–∂–∞–µ—Ç CPU.

* * *

### üí° –ò—Ç–æ–≥–∏ (RU)

* –û–° ‚Äî —ç—Ç–æ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –º–µ–∂–¥—É –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏ –∏ "–∂–µ–ª–µ–∑–æ–º", —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –≤—Å–µ–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏.

* –Ø–¥—Ä–æ Linux ‚Äî –∫–æ–º–ø–ª–µ–∫—Å –ø–æ–¥—Å–∏—Å—Ç–µ–º: –ø—Ä–æ—Ü–µ—Å—Å—ã, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –ø–∞–º—è—Ç—å, —Ñ–∞–π–ª–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã, IPC, —Å–µ—Ç—å, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.

* –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ ‚Äî –º–æ–∑–≥ —è–¥—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Å–∫–æ—Ä–æ—Å—Ç—å—é, –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å—é –∏ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å—é.

* * *

üá¨üáß English Version (Detailed)
-------------------------------

* * *

### 1Ô∏è‚É£ What is an Operating System

An **Operating System (OS)** is a set of programs that manage hardware resources and provide services for software and users. It acts as a **bridge** between the user/programs and the hardware.

#### Main responsibilities:

1. Process management ‚Äî create, run, and terminate processes.

2. Memory management ‚Äî allocate, free, and virtualize memory.

3. Device management ‚Äî uniform access via drivers.

4. File system management ‚Äî organize and access data.

5. User and permission control ‚Äî authentication, access rights.

6. Interfaces ‚Äî system APIs, shell, GUI.

7. Interprocess communication ‚Äî data exchange, synchronization.

> In short:  
> **OS = Kernel + Libraries + Utilities + Interfaces**

* * *

### 2Ô∏è‚É£ Linux Kernel Components

The **Linux kernel** is a **monolithic kernel** ‚Äî all major subsystems are built-in, with modular support. It provides system calls to bridge user-space and hardware.

#### üß© 1. Process Management

* Processes are independent execution units with their own address spaces.

* Kernel manages creation (`fork`), termination (`exit`), suspension/resume.

* Each has a **PID**, priority, and state.

* Threads share the same memory (`clone()`).

**Data structure:** `task_struct`.  
**Scheduler** decides which process runs next.

* * *

#### ‚öôÔ∏è 2. Device Management

* Devices represented as files in `/dev`.

* Accessed via **drivers**, categorized as:
  
  * Block devices (disks),
  
  * Character devices (terminals),
  
  * Network devices (NICs).

Drivers use `struct file_operations` and can be loaded dynamically as modules (`.ko`).

* * *

#### ‚è±Ô∏è 3. Time Management

* Uses **ticks**, **timers**, and **NTP** synchronization.

* Responsible for process timing, scheduling events, uptime tracking.

**Structures:** `jiffies`, `ktime_t`.

* * *

#### üìÇ 4. Filesystem

* Unified directory tree (`/`).

* Managed by **VFS (Virtual Filesystem Switch)** ‚Äî common API for multiple FS types.

* Supports caching (`page cache`), journaling, and mounting.

* Supports many FS: ext4, XFS, Btrfs, procfs, sysfs, etc.

* * *

#### üîÅ 5. IPC (Inter-Process Communication)

Mechanisms for data sharing and synchronization:

* Pipes, message queues, shared memory

* Semaphores, mutexes, spinlocks

* Signals (event notifications)

* Sockets (local & network)

* * *

#### üåê 6. Networking

* Modular networking stack supporting TCP/IP, UDP, IPv6, etc.

* Integrated with file descriptor model.

* Uses `struct net_device` and `struct sk_buff`.

* * *

#### üë• 7. Users and Permissions

* Multiuser model (UID/GID).

* Root = UID 0.

* DAC and MAC (SELinux/AppArmor).

* Fine-grained privileges via **capabilities**.

* * *

#### üßÆ 8. Internal Data Structures

| Purpose        | Structure     | Type                 |
| -------------- | ------------- | -------------------- |
| Process lists  | `list_head`   | doubly linked list   |
| Scheduler tree | `rb_tree`     | red-black tree       |
| Caches         | `hash_table`  | hash map             |
| Wait queues    | `wait_queue`  | event queue          |
| Buffers        | `page`, `bio` | memory/block buffers |

* * *

### 3Ô∏è‚É£ Process Scheduler ‚Äî Role and Design

**Scheduler** decides which process executes next and how CPU time is distributed.

#### Goals:

* Fairness

* Performance efficiency

* Low latency for interactive tasks

* Real-time support

#### Operation:

* Each process has a **priority**.

* Scheduler picks the process with the lowest virtual runtime.

* Linux uses **CFS (Completely Fair Scheduler)**.
  
  * Models processes as entities in a red-black tree by virtual runtime.
  
  * Each gets CPU time proportional to its weight (priority).

**Structures:** `sched_entity`, `rb_tree`.  
**Classes:** `SCHED_NORMAL`, `SCHED_RR`, `SCHED_FIFO`, `SCHED_IDLE`.

#### Example:

> The scheduler ensures smooth audio playback even when the system compiles large codebases.

* * *

### üí° Takeaways (EN)

* The OS manages all hardware and system resources.

* The Linux kernel is a unified, modular engine handling processes, files, IPC, network, users.

* The scheduler balances responsiveness and throughput ‚Äî core to system performance.
